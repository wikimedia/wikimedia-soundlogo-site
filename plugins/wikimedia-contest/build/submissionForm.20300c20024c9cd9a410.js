(()=>{var e={930:()=>{let e=[],t=[],s=[];const o=e=>{let{target:t}=e;t.closest(".gfield_custom_select:focus-within")||i(t)},i=e=>{const t=n(e,".gfield_listbox");t.classList.remove("is-opened"),t.setAttribute("tabindex","-1")},l=e=>{let{target:t}=e;const s=n(t,".gfield_listbox");s.setAttribute("tabindex",1),s.classList.toggle("is-opened"),s.querySelector(".gfield_option.is-selected")?s.querySelector(".gfield_option.is-selected button").focus():s.querySelector(".gfield_option button").focus()},r=e=>{let{target:t}=e;const s=n(t,".gfield_hidden_input"),o=t.closest(".gfield_option"),l=a(t,".gfield_option"),{value:r}=o.dataset;l.forEach((e=>e.classList.remove("is-selected"))),o.classList.add("is-selected"),s.value=r,n(t,".gfield_current_value").innerHTML=r,t.closest(".gfield").classList.toggle("has-value",!!r),i(t)},n=(e,t)=>e.classList.contains("gfield_custom_select")?e.querySelector(t):e.closest(".gfield_custom_select").querySelector(t),a=(e,t)=>e.classList.contains("gfield_custom_select")?[...e.querySelectorAll(t)]:[...e.closest(".gfield_custom_select").querySelectorAll(t)];window.addEventListener("DOMContentLoaded",(()=>{e=[...document.querySelectorAll(".gfield_custom_select")],t=[...document.querySelectorAll(".gfield_custom_select .gfield_toggle")],s=[...document.querySelectorAll(".gfield_custom_select .gfield_option")],t.forEach((e=>e.addEventListener("click",l))),s.forEach((e=>e.addEventListener("click",r))),e.forEach((e=>e.addEventListener("focusout",o)))}))},111:(e,t,s)=>{"use strict";s.r(t);const o=jQuery;var i=s.n(o);const l=wp.a11y,r=wp.i18n,n=new AudioContext,a=["audio/mpeg","video/ogg","audio/x-wav"],d=document.querySelector('input[type="file"]'),c=(e,t)=>{const s=u(e),o=t.map((e=>{let{error:t}=e;return t})).includes(!0),i=t.map((e=>{let{message:t}=e;return t}));s[0].innerHTML="<ul>"+t.reduce(((e,t)=>{let{error:s,message:o}=t;return`${e}<li class="${s?"error":"warning"}">${o}</li>`}),"")+"</ul>",(0,l.speak)(i.join(", ")),e.setCustomValidity(o?i.join(", "):""),e.reportValidity()},u=e=>i()(e).closest("div").siblings(".validation_message").length>0?i()(e).closest("div").siblings(".validation_message"):i()(e).siblings(".validation_message").length>0?i()(e).siblings(".validation_message"):i()('<div class="validation_message"></div>').insertAfter(e),g=async e=>{let{target:t}=e;const s=t.files[0],o=[],{name:i,size:l,type:d}=s;if(a.includes(d)||o.push({error:!0,message:(0,r.__)("File must be one of the allowed types: MP3, OGG, or WAV.","wikimedia-contest")}),l>1e8&&o.push({error:!0,message:(0,r.__)("File must be less than 100MB.","wikimedia-contest")}),o.length)return void c(t,o);const u=await s.arrayBuffer();try{const e=await n.decodeAudioData(u),{sampleRate:t,numberOfChannels:s,duration:a}=e;a>10?o.push({error:!0,message:(0,r.__)("Sound must be less than 10s.","wikimedia-contest")}):a<1?o.push({error:!0,message:(0,r.__)("Sound must be at least 1s.","wikimedia-contest")}):a>4&&o.push({error:!1,message:(0,r.__)("Sound should be less than 4s.","wikimedia-contest")});const c=32*t;"audio/mp3"===d&&c<196608?o.push({error:!1,message:(0,r.__)("MP3 files should be at least 192kbps.","wikimedia-contest")}):"video/ogg"===d&&c<163840&&o.push({error:!1,message:(0,r.__)("OGG files should be at least 160kbps.","wikimedia-contest")});const g=document.getElementById(window.audioFileMetaField);g&&(g.value=JSON.stringify({name:i,type:d,size:l,sampleRate:t,numberOfChannels:s,duration:a}))}catch(g){console.error(g),o.push({error:!0,message:(0,r.__)("Audio file is not readable.","wikimedia-contest")})}c(t,o)};document.addEventListener("DOMContentLoaded",(()=>{d&&d.addEventListener("change",g)}))}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,s),l.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(930),s(111)})();