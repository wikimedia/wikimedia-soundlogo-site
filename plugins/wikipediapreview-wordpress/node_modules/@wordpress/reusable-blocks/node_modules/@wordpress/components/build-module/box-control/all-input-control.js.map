{"version":3,"sources":["@wordpress/components/src/box-control/all-input-control.js"],"names":["noop","UnitControl","ALL_SIDES","LABELS","getAllValue","getAllUnitFallback","isValuesMixed","isValuesDefined","AllInputControl","onChange","onFocus","onHoverOn","onHoverOff","values","sides","selectedUnits","setSelectedUnits","props","allValue","hasValues","isMixed","allPlaceholder","mixed","allUnitFallback","undefined","handleOnFocus","event","side","applyValueToSides","currentValues","newValue","newValues","length","forEach","top","bottom","left","right","handleOnChange","next","isNumeric","isNaN","parseFloat","nextValue","nextValues","handleOnUnitChange","unit","newUnits","handleOnHoverOn","handleOnHoverOff"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n/**\n * Internal dependencies\n */\nimport UnitControl from './unit-control';\nimport {\n\tALL_SIDES,\n\tLABELS,\n\tgetAllValue,\n\tgetAllUnitFallback,\n\tisValuesMixed,\n\tisValuesDefined,\n} from './utils';\n\nexport default function AllInputControl( {\n\tonChange = noop,\n\tonFocus = noop,\n\tonHoverOn = noop,\n\tonHoverOff = noop,\n\tvalues,\n\tsides,\n\tselectedUnits,\n\tsetSelectedUnits,\n\t...props\n} ) {\n\tconst allValue = getAllValue( values, sides );\n\tconst hasValues = isValuesDefined( values );\n\tconst isMixed = hasValues && isValuesMixed( values, sides );\n\tconst allPlaceholder = isMixed ? LABELS.mixed : null;\n\n\t// Set meaningful unit selection if no allValue and user has previously\n\t// selected units without assigning values while controls were unlinked.\n\tconst allUnitFallback = ! allValue\n\t\t? getAllUnitFallback( selectedUnits )\n\t\t: undefined;\n\n\tconst handleOnFocus = ( event ) => {\n\t\tonFocus( event, { side: 'all' } );\n\t};\n\n\t// Applies a value to an object representing top, right, bottom and left\n\t// sides while taking into account any custom side configuration.\n\tconst applyValueToSides = ( currentValues, newValue ) => {\n\t\tconst newValues = { ...currentValues };\n\n\t\tif ( sides?.length ) {\n\t\t\tsides.forEach( ( side ) => {\n\t\t\t\tif ( side === 'vertical' ) {\n\t\t\t\t\tnewValues.top = newValue;\n\t\t\t\t\tnewValues.bottom = newValue;\n\t\t\t\t} else if ( side === 'horizontal' ) {\n\t\t\t\t\tnewValues.left = newValue;\n\t\t\t\t\tnewValues.right = newValue;\n\t\t\t\t} else {\n\t\t\t\t\tnewValues[ side ] = newValue;\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tALL_SIDES.forEach( ( side ) => ( newValues[ side ] = newValue ) );\n\t\t}\n\n\t\treturn newValues;\n\t};\n\n\tconst handleOnChange = ( next ) => {\n\t\tconst isNumeric = ! isNaN( parseFloat( next ) );\n\t\tconst nextValue = isNumeric ? next : undefined;\n\t\tconst nextValues = applyValueToSides( values, nextValue );\n\n\t\tonChange( nextValues );\n\t};\n\n\t// Set selected unit so it can be used as fallback by unlinked controls\n\t// when individual sides do not have a value containing a unit.\n\tconst handleOnUnitChange = ( unit ) => {\n\t\tconst newUnits = applyValueToSides( selectedUnits, unit );\n\t\tsetSelectedUnits( newUnits );\n\t};\n\n\tconst handleOnHoverOn = () => {\n\t\tonHoverOn( {\n\t\t\ttop: true,\n\t\t\tbottom: true,\n\t\t\tleft: true,\n\t\t\tright: true,\n\t\t} );\n\t};\n\n\tconst handleOnHoverOff = () => {\n\t\tonHoverOff( {\n\t\t\ttop: false,\n\t\t\tbottom: false,\n\t\t\tleft: false,\n\t\t\tright: false,\n\t\t} );\n\t};\n\n\treturn (\n\t\t<UnitControl\n\t\t\t{ ...props }\n\t\t\tdisableUnits={ isMixed }\n\t\t\tisOnly\n\t\t\tvalue={ allValue }\n\t\t\tunit={ allUnitFallback }\n\t\t\tonChange={ handleOnChange }\n\t\t\tonUnitChange={ handleOnUnitChange }\n\t\t\tonFocus={ handleOnFocus }\n\t\t\tonHoverOn={ handleOnHoverOn }\n\t\t\tonHoverOff={ handleOnHoverOff }\n\t\t\tplaceholder={ allPlaceholder }\n\t\t/>\n\t);\n}\n"]}