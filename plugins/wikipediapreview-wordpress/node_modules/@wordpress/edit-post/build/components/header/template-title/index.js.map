{"version":3,"sources":["@wordpress/edit-post/src/components/header/template-title/index.js"],"names":["TemplateTitle","template","isEditing","title","select","isEditingTemplate","getEditedPostTemplate","editPostStore","getEditedPostAttribute","editorStore","_isEditing","clearSelectedBlock","blockEditorStore","setIsEditingTemplate","templateTitle","slug","onToggle","chevronDown","has_theme_file"],"mappings":";;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AAKA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAhBA;AACA;AACA;;AAMA;AACA;AACA;AAQA,SAASA,aAAT,GAAyB;AACxB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuBC,IAAAA;AAAvB,MAAiC,qBAAaC,MAAF,IAAc;AAC/D,UAAM;AAAEC,MAAAA,iBAAF;AAAqBC,MAAAA;AAArB,QAA+CF,MAAM,CAC1DG,YAD0D,CAA3D;AAGA,UAAM;AAAEC,MAAAA;AAAF,QAA6BJ,MAAM,CAAEK,aAAF,CAAzC;;AAEA,UAAMC,UAAU,GAAGL,iBAAiB,EAApC;;AAEA,WAAO;AACNJ,MAAAA,QAAQ,EAAES,UAAU,GAAGJ,qBAAqB,EAAxB,GAA6B,IAD3C;AAENJ,MAAAA,SAAS,EAAEQ,UAFL;AAGNP,MAAAA,KAAK,EAAEK,sBAAsB,CAAE,OAAF,CAAtB,GACJA,sBAAsB,CAAE,OAAF,CADlB,GAEJ,cAAI,UAAJ;AALG,KAAP;AAOA,GAfsC,EAepC,EAfoC,CAAvC;AAiBA,QAAM;AAAEG,IAAAA;AAAF,MAAyB,uBAAaC,kBAAb,CAA/B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAA2B,uBAAaN,YAAb,CAAjC;;AAEA,MAAK,CAAEL,SAAF,IAAe,CAAED,QAAtB,EAAiC;AAChC,WAAO,IAAP;AACA;;AAED,MAAIa,aAAa,GAAG,cAAI,SAAJ,CAApB;;AACA,MAAKb,QAAL,aAAKA,QAAL,eAAKA,QAAQ,CAAEE,KAAf,EAAuB;AACtBW,IAAAA,aAAa,GAAGb,QAAQ,CAACE,KAAzB;AACA,GAFD,MAEO,IAAK,CAAC,CAAEF,QAAR,EAAmB;AACzBa,IAAAA,aAAa,GAAGb,QAAQ,CAACc,IAAzB;AACA;;AAED,SACC;AAAK,IAAA,SAAS,EAAC;AAAf,KACC,4BAAC,kBAAD;AACC,IAAA,SAAS,EAAC,+BADX;AAEC,IAAA,MAAM,MAFP;AAGC,IAAA,WAAW,MAHZ;AAIC,IAAA,KAAK,EAAG;AACP;AACA,kBAAI,SAAJ,CAFO,EAGPZ,KAHO,CAJT;AASC,IAAA,OAAO,EAAG,MAAM;AACfQ,MAAAA,kBAAkB;AAClBE,MAAAA,oBAAoB,CAAE,KAAF,CAApB;AACA;AAZF,KAcGV,KAdH,CADD,EAiBC,4BAAC,oBAAD;AACC,IAAA,QAAQ,EAAC,eADV;AAEC,IAAA,gBAAgB,EAAC,sCAFlB;AAGC,IAAA,YAAY,EAAG,CAAE;AAAEa,MAAAA;AAAF,KAAF,KACd,4BAAC,kBAAD;AACC,MAAA,SAAS,EAAC,0BADX;AAEC,MAAA,MAAM,MAFP;AAGC,MAAA,IAAI,EAAGC,kBAHR;AAIC,MAAA,WAAW,MAJZ;AAKC,MAAA,OAAO,EAAGD,QALX;AAMC,MAAA,KAAK,EAAG,cAAI,kBAAJ;AANT,OAQGF,aARH,CAJF;AAeC,IAAA,aAAa,EAAG,MACf,qDACGb,QAAQ,CAACiB,cAAT,GACD,4BAAC,4BAAD,OADC,GAGD,4BAAC,0BAAD,OAJF,EAMC,4BAAC,uBAAD,OAND;AAhBF,IAjBD,CADD;AA8CA;;eAEclB,a","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { chevronDown } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { store as editPostStore } from '../../../store';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as editorStore } from '@wordpress/editor';\nimport DeleteTemplate from './delete-template';\nimport EditTemplateTitle from './edit-template-title';\nimport TemplateDescription from './template-description';\n\nfunction TemplateTitle() {\n\tconst { template, isEditing, title } = useSelect( ( select ) => {\n\t\tconst { isEditingTemplate, getEditedPostTemplate } = select(\n\t\t\teditPostStore\n\t\t);\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\n\t\tconst _isEditing = isEditingTemplate();\n\n\t\treturn {\n\t\t\ttemplate: _isEditing ? getEditedPostTemplate() : null,\n\t\t\tisEditing: _isEditing,\n\t\t\ttitle: getEditedPostAttribute( 'title' )\n\t\t\t\t? getEditedPostAttribute( 'title' )\n\t\t\t\t: __( 'Untitled' ),\n\t\t};\n\t}, [] );\n\n\tconst { clearSelectedBlock } = useDispatch( blockEditorStore );\n\tconst { setIsEditingTemplate } = useDispatch( editPostStore );\n\n\tif ( ! isEditing || ! template ) {\n\t\treturn null;\n\t}\n\n\tlet templateTitle = __( 'Default' );\n\tif ( template?.title ) {\n\t\ttemplateTitle = template.title;\n\t} else if ( !! template ) {\n\t\ttemplateTitle = template.slug;\n\t}\n\n\treturn (\n\t\t<div className=\"edit-post-template-top-area\">\n\t\t\t<Button\n\t\t\t\tclassName=\"edit-post-template-post-title\"\n\t\t\t\tisLink\n\t\t\t\tshowTooltip\n\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t/* translators: %s: Title of the referring post, e.g: \"Hello World!\" */\n\t\t\t\t\t__( 'Edit %s' ),\n\t\t\t\t\ttitle\n\t\t\t\t) }\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tclearSelectedBlock();\n\t\t\t\t\tsetIsEditingTemplate( false );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ title }\n\t\t\t</Button>\n\t\t\t<Dropdown\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tcontentClassName=\"edit-post-template-top-area__popover\"\n\t\t\t\trenderToggle={ ( { onToggle } ) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"edit-post-template-title\"\n\t\t\t\t\t\tisLink\n\t\t\t\t\t\ticon={ chevronDown }\n\t\t\t\t\t\tshowTooltip\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\tlabel={ __( 'Template Options' ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ templateTitle }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\trenderContent={ () => (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ template.has_theme_file ? (\n\t\t\t\t\t\t\t<TemplateDescription />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<EditTemplateTitle />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<DeleteTemplate />\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default TemplateTitle;\n"]}