{"version":3,"sources":["@wordpress/components/src/color-picker/hue.js"],"names":["noop","compose","pure","withInstanceId","__","Component","createRef","TAB","UP","DOWN","RIGHT","LEFT","PAGEUP","PAGEDOWN","HOME","END","calculateHueChange","VisuallyHidden","Hue","constructor","arguments","container","increase","bind","decrease","handleChange","handleMouseDown","handleMouseUp","handleKeyDown","componentWillUnmount","unbindEventListeners","amount","hsl","onChange","props","change","h","s","l","a","source","e","current","window","addEventListener","removeEventListener","event","keyCode","shiftKey","shortcuts","code","String","preventDefault","render","instanceId","pointerLocation","left"],"mappings":"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","sourcesContent":["/**\n * Parts of this source were derived and modified from react-color,\n * released under the MIT license.\n *\n * https://github.com/casesandberg/react-color/\n *\n * Copyright (c) 2015 Case Sandberg\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose, pure, withInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport {\n\tTAB,\n\tUP,\n\tDOWN,\n\tRIGHT,\n\tLEFT,\n\tPAGEUP,\n\tPAGEDOWN,\n\tHOME,\n\tEND,\n} from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport { calculateHueChange } from './utils';\nimport { VisuallyHidden } from '../visually-hidden';\n\nexport class Hue extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.container = createRef();\n\t\tthis.increase = this.increase.bind( this );\n\t\tthis.decrease = this.decrease.bind( this );\n\t\tthis.handleChange = this.handleChange.bind( this );\n\t\tthis.handleMouseDown = this.handleMouseDown.bind( this );\n\t\tthis.handleMouseUp = this.handleMouseUp.bind( this );\n\t\tthis.handleKeyDown = this.handleKeyDown.bind( this );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tincrease( amount = 1 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst change = {\n\t\t\th: hsl.h + amount >= 359 ? 359 : hsl.h + amount,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\tdecrease( amount = 1 ) {\n\t\tconst { hsl, onChange = noop } = this.props;\n\t\tconst change = {\n\t\t\th: hsl.h <= amount ? 0 : hsl.h - amount,\n\t\t\ts: hsl.s,\n\t\t\tl: hsl.l,\n\t\t\ta: hsl.a,\n\t\t\tsource: 'rgb',\n\t\t};\n\t\tonChange( change );\n\t}\n\n\thandleChange( e ) {\n\t\tconst { onChange = noop } = this.props;\n\t\tconst change = calculateHueChange(\n\t\t\te,\n\t\t\tthis.props,\n\t\t\tthis.container.current\n\t\t);\n\t\tif ( change ) {\n\t\t\tonChange( change, e );\n\t\t}\n\t}\n\n\thandleMouseDown( e ) {\n\t\tthis.handleChange( e );\n\t\twindow.addEventListener( 'mousemove', this.handleChange );\n\t\twindow.addEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\thandleMouseUp() {\n\t\tthis.unbindEventListeners();\n\t}\n\n\tunbindEventListeners() {\n\t\twindow.removeEventListener( 'mousemove', this.handleChange );\n\t\twindow.removeEventListener( 'mouseup', this.handleMouseUp );\n\t}\n\n\thandleKeyDown( event ) {\n\t\tconst { keyCode, shiftKey } = event;\n\t\tconst shortcuts = {\n\t\t\t[ UP ]: () => this.increase( shiftKey ? 10 : 1 ),\n\t\t\t[ RIGHT ]: () => this.increase( shiftKey ? 10 : 1 ),\n\t\t\t[ PAGEUP ]: () => this.increase( 10 ),\n\t\t\t[ END ]: () => this.increase( 359 ),\n\t\t\t[ DOWN ]: () => this.decrease( shiftKey ? 10 : 1 ),\n\t\t\t[ LEFT ]: () => this.decrease( shiftKey ? 10 : 1 ),\n\t\t\t[ PAGEDOWN ]: () => this.decrease( 10 ),\n\t\t\t[ HOME ]: () => this.decrease( 359 ),\n\t\t};\n\n\t\tfor ( const code in shortcuts ) {\n\t\t\tif ( code === String( keyCode ) ) {\n\t\t\t\tshortcuts[ keyCode ]();\n\t\t\t}\n\t\t}\n\n\t\tif ( keyCode !== TAB ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { hsl = {}, instanceId } = this.props;\n\t\tconst pointerLocation = { left: `${ ( hsl.h * 100 ) / 360 }%` };\n\n\t\treturn (\n\t\t\t<div className=\"components-color-picker__hue\">\n\t\t\t\t<div className=\"components-color-picker__hue-gradient\" />\n\t\t\t\t{ /* eslint-disable jsx-a11y/no-static-element-interactions */ }\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"components-color-picker__hue-bar\"\n\t\t\t\t\tref={ this.container }\n\t\t\t\t\tonMouseDown={ this.handleMouseDown }\n\t\t\t\t\tonTouchMove={ this.handleChange }\n\t\t\t\t\tonTouchStart={ this.handleChange }\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t\taria-valuemax=\"1\"\n\t\t\t\t\t\taria-valuemin=\"359\"\n\t\t\t\t\t\taria-valuenow={ hsl.h }\n\t\t\t\t\t\taria-orientation=\"horizontal\"\n\t\t\t\t\t\taria-label={ __(\n\t\t\t\t\t\t\t'Hue value in degrees, from 0 to 359.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\taria-describedby={ `components-color-picker__hue-description-${ instanceId }` }\n\t\t\t\t\t\tclassName=\"components-color-picker__hue-pointer\"\n\t\t\t\t\t\tstyle={ pointerLocation }\n\t\t\t\t\t\tonKeyDown={ this.handleKeyDown }\n\t\t\t\t\t/>\n\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\tas=\"p\"\n\t\t\t\t\t\tid={ `components-color-picker__hue-description-${ instanceId }` }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Move the arrow left or right to change hue.' ) }\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</div>\n\t\t\t\t{ /* eslint-enable jsx-a11y/no-static-element-interactions */ }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default compose( pure, withInstanceId )( Hue );\n"]}