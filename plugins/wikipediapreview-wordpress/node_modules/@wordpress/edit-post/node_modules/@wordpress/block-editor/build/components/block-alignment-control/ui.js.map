{"version":3,"sources":["@wordpress/block-editor/src/components/block-alignment-control/ui.js"],"names":["BLOCK_ALIGNMENTS_CONTROLS","none","icon","alignNone","title","left","positionLeft","center","positionCenter","right","positionRight","wide","stretchWide","full","stretchFullWidth","DEFAULT_CONTROL","POPOVER_PROPS","isAlternate","BlockAlignmentUI","value","onChange","controls","isToolbar","isCollapsed","enabledControls","hasEnabledControls","length","onChangeAlignment","align","includes","undefined","activeAlignmentControl","defaultAlignmentControl","UIComponent","ToolbarGroup","ToolbarDropdownMenu","commonProps","popoverProps","label","toggleProps","describedBy","extraProps","Platform","isNative","map","name","controlName","isActive","role","onClick","children","onClose","info","isSelected"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tToolbarDropdownMenu,\n\tToolbarGroup,\n\tMenuGroup,\n\tMenuItem,\n} from '@wordpress/components';\nimport {\n\talignNone,\n\tpositionCenter,\n\tpositionLeft,\n\tpositionRight,\n\tstretchFullWidth,\n\tstretchWide,\n} from '@wordpress/icons';\nimport { Platform } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useAvailableAlignments from './use-available-alignments';\n\nconst BLOCK_ALIGNMENTS_CONTROLS = {\n\tnone: {\n\t\ticon: alignNone,\n\t\ttitle: __( 'None' ),\n\t},\n\tleft: {\n\t\ticon: positionLeft,\n\t\ttitle: __( 'Align left' ),\n\t},\n\tcenter: {\n\t\ticon: positionCenter,\n\t\ttitle: __( 'Align center' ),\n\t},\n\tright: {\n\t\ticon: positionRight,\n\t\ttitle: __( 'Align right' ),\n\t},\n\twide: {\n\t\ticon: stretchWide,\n\t\ttitle: __( 'Wide width' ),\n\t},\n\tfull: {\n\t\ticon: stretchFullWidth,\n\t\ttitle: __( 'Full width' ),\n\t},\n};\n\nconst DEFAULT_CONTROL = 'none';\n\nconst POPOVER_PROPS = {\n\tisAlternate: true,\n};\n\nfunction BlockAlignmentUI( {\n\tvalue,\n\tonChange,\n\tcontrols,\n\tisToolbar,\n\tisCollapsed = true,\n} ) {\n\tconst enabledControls = useAvailableAlignments( controls );\n\tconst hasEnabledControls = !! enabledControls.length;\n\n\tif ( ! hasEnabledControls ) {\n\t\treturn null;\n\t}\n\n\tfunction onChangeAlignment( align ) {\n\t\tonChange( [ value, 'none' ].includes( align ) ? undefined : align );\n\t}\n\n\tconst activeAlignmentControl = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\tconst UIComponent = isToolbar ? ToolbarGroup : ToolbarDropdownMenu;\n\tconst commonProps = {\n\t\tpopoverProps: POPOVER_PROPS,\n\t\ticon: activeAlignmentControl\n\t\t\t? activeAlignmentControl.icon\n\t\t\t: defaultAlignmentControl.icon,\n\t\tlabel: __( 'Align' ),\n\t\ttoggleProps: { describedBy: __( 'Change alignment' ) },\n\t};\n\tconst extraProps =\n\t\tisToolbar || Platform.isNative\n\t\t\t? {\n\t\t\t\t\tisCollapsed: isToolbar ? isCollapsed : undefined,\n\t\t\t\t\tcontrols: enabledControls.map(\n\t\t\t\t\t\t( { name: controlName } ) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ controlName ],\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tvalue === controlName ||\n\t\t\t\t\t\t\t\t\t( ! value && controlName === 'none' ),\n\t\t\t\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\t\t\t\tonClick: () => onChangeAlignment( controlName ),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t  }\n\t\t\t: {\n\t\t\t\t\tchildren: ( { onClose } ) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<MenuGroup className=\"block-editor-block-alignment-control__menu-group\">\n\t\t\t\t\t\t\t\t\t{ enabledControls.map(\n\t\t\t\t\t\t\t\t\t\t( { name: controlName, info } ) => {\n\t\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\t\ticon,\n\t\t\t\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\t\t\t} = BLOCK_ALIGNMENTS_CONTROLS[\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolName\n\t\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t\t\t// If no value is provided, mark as selected the `none` option.\n\t\t\t\t\t\t\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t\t\t\t\t\t\tcontrolName === value ||\n\t\t\t\t\t\t\t\t\t\t\t\t( ! value &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolName === 'none' );\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={ controlName }\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={ icon }\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={ classNames(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'components-dropdown-menu__menu-item',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'is-active': isSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\tisSelected={ isSelected }\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeAlignment(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolName\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\trole=\"menuitemradio\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tinfo={ info }\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t  };\n\n\treturn <UIComponent { ...commonProps } { ...extraProps } />;\n}\n\nexport default BlockAlignmentUI;\n"]}