{"version":3,"sources":["@wordpress/components/src/color-palette/index.js"],"names":["namesPlugin","a11yPlugin","ColorPalette","clearable","className","colors","disableCustomColors","onChange","value","clearColor","undefined","colorOptions","color","name","colordColor","fill","contrast","backgroundColor","renderCustomColorPicker","hex","renderContent","contentClassName"],"mappings":";;;;;;;;;AAYA;;AATA;;AACA;;AACA;;AACA;;AAKA;;AAMA;;AACA;;AAlBA;AACA;AACA;;AAMA;AACA;AACA;;AAIA;AACA;AACA;AAIA,oBAAQ,CAAEA,cAAF,EAAeC,aAAf,CAAR;;AAEe,SAASC,YAAT,CAAuB;AACrCC,EAAAA,SAAS,GAAG,IADyB;AAErCC,EAAAA,SAFqC;AAGrCC,EAAAA,MAHqC;AAIrCC,EAAAA,mBAAmB,GAAG,KAJe;AAKrCC,EAAAA,QALqC;AAMrCC,EAAAA;AANqC,CAAvB,EAOX;AACH,QAAMC,UAAU,GAAG,0BAAa,MAAMF,QAAQ,CAAEG,SAAF,CAA3B,EAA0C,CAAEH,QAAF,CAA1C,CAAnB;AACA,QAAMI,YAAY,GAAG,sBAAS,MAAM;AACnC,WAAO,iBAAKN,MAAL,EAAa,CAAE;AAAEO,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAF,KAAuB;AAC1C,YAAMC,WAAW,GAAG,oBAAQF,KAAR,CAApB;AACA,aACC,4BAAC,6BAAD,CAAsB,MAAtB;AACC,QAAA,GAAG,EAAGA,KADP;AAEC,QAAA,UAAU,EAAGJ,KAAK,KAAKI,KAFxB;AAGC,QAAA,iBAAiB,EAChBJ,KAAK,KAAKI,KAAV,GACG;AACAG,UAAAA,IAAI,EACHD,WAAW,CAACE,QAAZ,KACAF,WAAW,CAACE,QAAZ,CAAsB,MAAtB,CADA,GAEG,MAFH,GAGG;AALJ,SADH,GAQG,EAZL;AAcC,QAAA,WAAW,EACVH,IAAI,IACJ;AACA,2BAAS,cAAI,gBAAJ,CAAT,EAAiCD,KAAjC,CAjBF;AAmBC,QAAA,KAAK,EAAG;AAAEK,UAAAA,eAAe,EAAEL,KAAnB;AAA0BA,UAAAA;AAA1B,SAnBT;AAoBC,QAAA,OAAO,EACNJ,KAAK,KAAKI,KAAV,GAAkBH,UAAlB,GAA+B,MAAMF,QAAQ,CAAEK,KAAF,CArB/C;AAuBC,sBACCC,IAAI,GACD;AACA,2BAAS,cAAI,WAAJ,CAAT,EAA4BA,IAA5B,CAFC,GAGD;AACA,2BAAS,cAAI,gBAAJ,CAAT,EAAiCD,KAAjC;AA5BL,QADD;AAiCA,KAnCM,CAAP;AAoCA,GArCoB,EAqClB,CAAEP,MAAF,EAAUG,KAAV,EAAiBD,QAAjB,EAA2BE,UAA3B,CArCkB,CAArB;;AAsCA,QAAMS,uBAAuB,GAAG,MAC/B,4BAAC,oBAAD;AACC,IAAA,KAAK,EAAGV,KADT;AAEC,IAAA,gBAAgB,EAAKI,KAAF,IAAaL,QAAQ,CAAEK,KAAK,CAACO,GAAR,CAFzC;AAGC,IAAA,YAAY;AAHb,IADD;;AAQA,SACC,4BAAC,6BAAD;AACC,IAAA,SAAS,EAAGf,SADb;AAEC,IAAA,OAAO,EAAGO,YAFX;AAGC,IAAA,OAAO,EACN,qDACG,CAAEL,mBAAF,IACD,4BAAC,6BAAD,CAAsB,kBAAtB;AACC,MAAA,aAAa,EAAG;AACfc,QAAAA,aAAa,EAAEF,uBADA;AAEfG,QAAAA,gBAAgB,EACf;AAHc,OADjB;AAMC,MAAA,WAAW,EAAG;AACb,sBAAc,cAAI,qBAAJ;AADD,OANf;AASC,MAAA,QAAQ,EAAG,cAAI,cAAJ;AATZ,MAFF,EAcG,CAAC,CAAElB,SAAH,IACD,4BAAC,6BAAD,CAAsB,YAAtB;AACC,MAAA,OAAO,EAAGM;AADX,OAGG,cAAI,OAAJ,CAHH,CAfF;AAJF,IADD;AA8BA","sourcesContent":["/**\n * External dependencies\n */\nimport { map } from 'lodash';\nimport { colord, extend } from 'colord';\nimport namesPlugin from 'colord/plugins/names';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ColorPicker from '../color-picker';\nimport CircularOptionPicker from '../circular-option-picker';\n\nextend( [ namesPlugin, a11yPlugin ] );\n\nexport default function ColorPalette( {\n\tclearable = true,\n\tclassName,\n\tcolors,\n\tdisableCustomColors = false,\n\tonChange,\n\tvalue,\n} ) {\n\tconst clearColor = useCallback( () => onChange( undefined ), [ onChange ] );\n\tconst colorOptions = useMemo( () => {\n\t\treturn map( colors, ( { color, name } ) => {\n\t\t\tconst colordColor = colord( color );\n\t\t\treturn (\n\t\t\t\t<CircularOptionPicker.Option\n\t\t\t\t\tkey={ color }\n\t\t\t\t\tisSelected={ value === color }\n\t\t\t\t\tselectedIconProps={\n\t\t\t\t\t\tvalue === color\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\tfill:\n\t\t\t\t\t\t\t\t\t\tcolordColor.contrast() >\n\t\t\t\t\t\t\t\t\t\tcolordColor.contrast( '#000' )\n\t\t\t\t\t\t\t\t\t\t\t? '#fff'\n\t\t\t\t\t\t\t\t\t\t\t: '#000',\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t: {}\n\t\t\t\t\t}\n\t\t\t\t\ttooltipText={\n\t\t\t\t\t\tname ||\n\t\t\t\t\t\t// translators: %s: color hex code e.g: \"#f00\".\n\t\t\t\t\t\tsprintf( __( 'Color code: %s' ), color )\n\t\t\t\t\t}\n\t\t\t\t\tstyle={ { backgroundColor: color, color } }\n\t\t\t\t\tonClick={\n\t\t\t\t\t\tvalue === color ? clearColor : () => onChange( color )\n\t\t\t\t\t}\n\t\t\t\t\taria-label={\n\t\t\t\t\t\tname\n\t\t\t\t\t\t\t? // translators: %s: The name of the color e.g: \"vivid red\".\n\t\t\t\t\t\t\t  sprintf( __( 'Color: %s' ), name )\n\t\t\t\t\t\t\t: // translators: %s: color hex code e.g: \"#f00\".\n\t\t\t\t\t\t\t  sprintf( __( 'Color code: %s' ), color )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t);\n\t\t} );\n\t}, [ colors, value, onChange, clearColor ] );\n\tconst renderCustomColorPicker = () => (\n\t\t<ColorPicker\n\t\t\tcolor={ value }\n\t\t\tonChangeComplete={ ( color ) => onChange( color.hex ) }\n\t\t\tdisableAlpha\n\t\t/>\n\t);\n\n\treturn (\n\t\t<CircularOptionPicker\n\t\t\tclassName={ className }\n\t\t\toptions={ colorOptions }\n\t\t\tactions={\n\t\t\t\t<>\n\t\t\t\t\t{ ! disableCustomColors && (\n\t\t\t\t\t\t<CircularOptionPicker.DropdownLinkAction\n\t\t\t\t\t\t\tdropdownProps={ {\n\t\t\t\t\t\t\t\trenderContent: renderCustomColorPicker,\n\t\t\t\t\t\t\t\tcontentClassName:\n\t\t\t\t\t\t\t\t\t'components-color-palette__picker',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tbuttonProps={ {\n\t\t\t\t\t\t\t\t'aria-label': __( 'Custom color picker' ),\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tlinkText={ __( 'Custom color' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ !! clearable && (\n\t\t\t\t\t\t<CircularOptionPicker.ButtonAction\n\t\t\t\t\t\t\tonClick={ clearColor }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Clear' ) }\n\t\t\t\t\t\t</CircularOptionPicker.ButtonAction>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n}\n"]}