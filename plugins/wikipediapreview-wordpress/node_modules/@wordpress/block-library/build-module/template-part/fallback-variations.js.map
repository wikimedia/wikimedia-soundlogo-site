{"version":3,"sources":["@wordpress/block-library/src/template-part/fallback-variations.js"],"names":["__","header","headerIcon","footer","footerIcon","store","coreDataStore","select","fallbackVariations","name","icon","title","description","attributes","area","scope","forEach","variation","isActive","blockAttributes","variationAttributes","theme","slug","entity","getEntityRecord"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,MAAM,IAAIC,UAAnB,EAA+BC,MAAM,IAAIC,UAAzC,QAA2D,kBAA3D;AACA,SAASC,KAAK,IAAIC,aAAlB,QAAuC,sBAAvC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,MAAMC,kBAAkB,GAAG,CAC1B;AACCC,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,IAAI,EAAER,UAFP;AAGCS,EAAAA,KAAK,EAAEX,EAAE,CAAE,QAAF,CAHV;AAICY,EAAAA,WAAW,EAAEZ,EAAE,CACd,qGADc,CAJhB;AAOCa,EAAAA,UAAU,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAPb;AAQCC,EAAAA,KAAK,EAAE,CAAE,UAAF;AARR,CAD0B,EAW1B;AACCN,EAAAA,IAAI,EAAE,QADP;AAECC,EAAAA,IAAI,EAAEN,UAFP;AAGCO,EAAAA,KAAK,EAAEX,EAAE,CAAE,QAAF,CAHV;AAICY,EAAAA,WAAW,EAAEZ,EAAE,CACd,iIADc,CAJhB;AAOCa,EAAAA,UAAU,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR,GAPb;AAQCC,EAAAA,KAAK,EAAE,CAAE,UAAF;AARR,CAX0B,CAA3B;AAuBAP,kBAAkB,CAACQ,OAAnB,CAA8BC,SAAF,IAAiB;AAC5C,MAAKA,SAAS,CAACC,QAAf,EAA0B;;AAC1BD,EAAAA,SAAS,CAACC,QAAV,GAAqB,CAAEC,eAAF,EAAmBC,mBAAnB,KAA4C;AAChE,UAAM;AAAEN,MAAAA,IAAF;AAAQO,MAAAA,KAAR;AAAeC,MAAAA;AAAf,QAAwBH,eAA9B,CADgE,CAEhE;AACA;;AACA,QAAKL,IAAL,EAAY,OAAOA,IAAI,KAAKM,mBAAmB,CAACN,IAApC,CAJoD,CAKhE;AACA;;AACA,QAAK,CAAEQ,IAAP,EAAc,OAAO,KAAP;AACd,UAAMC,MAAM,GAAGhB,MAAM,CAAED,aAAF,CAAN,CAAwBkB,eAAxB,CACd,UADc,EAEd,kBAFc,EAGb,GAAGH,KAAO,KAAKC,IAAM,EAHR,CAAf;AAKA,WAAO,CAAAC,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAET,IAAR,MAAiBM,mBAAmB,CAACN,IAA5C;AACA,GAdD;AAeA,CAjBD;AAmBA,eAAeN,kBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { header as headerIcon, footer as footerIcon } from '@wordpress/icons';\nimport { store as coreDataStore } from '@wordpress/core-data';\nimport { select } from '@wordpress/data';\n\nconst fallbackVariations = [\n\t{\n\t\tname: 'header',\n\t\ticon: headerIcon,\n\t\ttitle: __( 'Header' ),\n\t\tdescription: __(\n\t\t\t'The Header template defines a page area that typically contains a title, logo, and main navigation.'\n\t\t),\n\t\tattributes: { area: 'header' },\n\t\tscope: [ 'inserter' ],\n\t},\n\t{\n\t\tname: 'footer',\n\t\ticon: footerIcon,\n\t\ttitle: __( 'Footer' ),\n\t\tdescription: __(\n\t\t\t'The Footer template defines a page area that typically contains site credits, social links, or any other combination of blocks.'\n\t\t),\n\t\tattributes: { area: 'footer' },\n\t\tscope: [ 'inserter' ],\n\t},\n];\n\nfallbackVariations.forEach( ( variation ) => {\n\tif ( variation.isActive ) return;\n\tvariation.isActive = ( blockAttributes, variationAttributes ) => {\n\t\tconst { area, theme, slug } = blockAttributes;\n\t\t// We first check the `area` block attribute which is set during insertion.\n\t\t// This property is removed on the creation of a template part.\n\t\tif ( area ) return area === variationAttributes.area;\n\t\t// Find a matching variation from the created template part\n\t\t// by checking the entity's `area` property.\n\t\tif ( ! slug ) return false;\n\t\tconst entity = select( coreDataStore ).getEntityRecord(\n\t\t\t'postType',\n\t\t\t'wp_template_part',\n\t\t\t`${ theme }//${ slug }`\n\t\t);\n\t\treturn entity?.area === variationAttributes.area;\n\t};\n} );\n\nexport default fallbackVariations;\n"]}