{"version":3,"sources":["@wordpress/block-library/src/list/edit.js"],"names":["__","_x","isRTL","createBlock","RichText","BlockControls","RichTextShortcut","useBlockProps","ToolbarButton","__unstableCanIndentListItems","canIndentListItems","__unstableCanOutdentListItems","canOutdentListItems","__unstableIndentListItems","indentListItems","__unstableOutdentListItems","outdentListItems","__unstableChangeListType","changeListType","__unstableIsListRootSelected","isListRootSelected","__unstableIsActiveListType","isActiveListType","formatListBullets","formatListBulletsRTL","formatListNumbered","formatListNumberedRTL","formatIndent","formatIndentRTL","formatOutdent","formatOutdentRTL","name","OrderedListSettings","ListEdit","attributes","setAttributes","mergeBlocks","onReplace","style","ordered","values","type","reversed","start","placeholder","tagName","controls","value","onChange","onFocus","blockProps","nextValues"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,EAAT,EAAaC,EAAb,EAAiBC,KAAjB,QAA8B,iBAA9B;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SACCC,QADD,EAECC,aAFD,EAGCC,gBAHD,EAICC,aAJD,QAKO,yBALP;AAMA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SACCC,4BAA4B,IAAIC,kBADjC,EAECC,6BAA6B,IAAIC,mBAFlC,EAGCC,yBAAyB,IAAIC,eAH9B,EAICC,0BAA0B,IAAIC,gBAJ/B,EAKCC,wBAAwB,IAAIC,cAL7B,EAMCC,4BAA4B,IAAIC,kBANjC,EAOCC,0BAA0B,IAAIC,gBAP/B,QAQO,sBARP;AASA,SACCC,iBADD,EAECC,oBAFD,EAGCC,kBAHD,EAICC,qBAJD,EAKCC,YALD,EAMCC,eAND,EAOCC,aAPD,EAQCC,gBARD,QASO,kBATP;AAWA;AACA;AACA;;AACA,SAASC,IAAT,QAAqB,IAArB;AACA,OAAOC,mBAAP,MAAgC,yBAAhC;AAEA,eAAe,SAASC,QAAT,CAAmB;AACjCC,EAAAA,UADiC;AAEjCC,EAAAA,aAFiC;AAGjCC,EAAAA,WAHiC;AAIjCC,EAAAA,SAJiC;AAKjCC,EAAAA;AALiC,CAAnB,EAMX;AACH,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,MAAX;AAAmBC,IAAAA,IAAnB;AAAyBC,IAAAA,QAAzB;AAAmCC,IAAAA,KAAnC;AAA0CC,IAAAA;AAA1C,MAA0DV,UAAhE;AACA,QAAMW,OAAO,GAAGN,OAAO,GAAG,IAAH,GAAU,IAAjC;;AAEA,QAAMO,QAAQ,GAAG,CAAE;AAAEC,IAAAA,KAAF;AAASC,IAAAA,QAAT;AAAmBC,IAAAA;AAAnB,GAAF,KAChB,8BACC,cAAC,gBAAD;AACC,IAAA,IAAI,EAAC,SADN;AAEC,IAAA,SAAS,EAAC,GAFX;AAGC,IAAA,KAAK,EAAG,MAAM;AACbD,MAAAA,QAAQ,CAAEhC,gBAAgB,CAAE+B,KAAF,CAAlB,CAAR;AACA;AALF,IADD,EAQC,cAAC,gBAAD;AACC,IAAA,IAAI,EAAC,SADN;AAEC,IAAA,SAAS,EAAC,GAFX;AAGC,IAAA,KAAK,EAAG,MAAM;AACbC,MAAAA,QAAQ,CAAElC,eAAe,CAAEiC,KAAF,EAAS;AAAEN,QAAAA,IAAI,EAAEI;AAAR,OAAT,CAAjB,CAAR;AACA;AALF,IARD,EAeC,cAAC,gBAAD;AACC,IAAA,IAAI,EAAC,SADN;AAEC,IAAA,SAAS,EAAC,GAFX;AAGC,IAAA,KAAK,EAAG,MAAM;AACbG,MAAAA,QAAQ,CAAElC,eAAe,CAAEiC,KAAF,EAAS;AAAEN,QAAAA,IAAI,EAAEI;AAAR,OAAT,CAAjB,CAAR;AACA;AALF,IAfD,EAsBC,cAAC,gBAAD;AACC,IAAA,IAAI,EAAC,cADN;AAEC,IAAA,SAAS,EAAC,GAFX;AAGC,IAAA,KAAK,EAAG,MAAM;AACbG,MAAAA,QAAQ,CAAEhC,gBAAgB,CAAE+B,KAAF,CAAlB,CAAR;AACA;AALF,IAtBD,EA6BC,cAAC,aAAD;AAAe,IAAA,KAAK,EAAC;AAArB,KACC,cAAC,aAAD;AACC,IAAA,IAAI,EAAG7C,KAAK,KAAKsB,oBAAL,GAA4BD,iBADzC;AAEC,IAAA,KAAK,EAAGvB,EAAE,CAAE,WAAF,CAFX;AAGC,IAAA,WAAW,EAAGA,EAAE,CAAE,2BAAF,CAHjB;AAIC,IAAA,QAAQ,EAAGsB,gBAAgB,CAAEyB,KAAF,EAAS,IAAT,EAAeF,OAAf,CAJ5B;AAKC,IAAA,OAAO,EAAG,MAAM;AACfG,MAAAA,QAAQ,CAAE9B,cAAc,CAAE6B,KAAF,EAAS;AAAEN,QAAAA,IAAI,EAAE;AAAR,OAAT,CAAhB,CAAR;AACAQ,MAAAA,OAAO;;AAEP,UAAK7B,kBAAkB,CAAE2B,KAAF,CAAvB,EAAmC;AAClCZ,QAAAA,aAAa,CAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX,SAAF,CAAb;AACA;AACD;AAZF,IADD,EAeC,cAAC,aAAD;AACC,IAAA,IAAI,EACHrC,KAAK,KAAKwB,qBAAL,GAA6BD,kBAFpC;AAIC,IAAA,KAAK,EAAGzB,EAAE,CAAE,SAAF,CAJX;AAKC,IAAA,WAAW,EAAGA,EAAE,CAAE,yBAAF,CALjB;AAMC,IAAA,QAAQ,EAAGsB,gBAAgB,CAAEyB,KAAF,EAAS,IAAT,EAAeF,OAAf,CAN5B;AAOC,IAAA,OAAO,EAAG,MAAM;AACfG,MAAAA,QAAQ,CAAE9B,cAAc,CAAE6B,KAAF,EAAS;AAAEN,QAAAA,IAAI,EAAE;AAAR,OAAT,CAAhB,CAAR;AACAQ,MAAAA,OAAO;;AAEP,UAAK7B,kBAAkB,CAAE2B,KAAF,CAAvB,EAAmC;AAClCZ,QAAAA,aAAa,CAAE;AAAEI,UAAAA,OAAO,EAAE;AAAX,SAAF,CAAb;AACA;AACD;AAdF,IAfD,EA+BC,cAAC,aAAD;AACC,IAAA,IAAI,EAAGrC,KAAK,KAAK4B,gBAAL,GAAwBD,aADrC;AAEC,IAAA,KAAK,EAAG7B,EAAE,CAAE,SAAF,CAFX;AAGC,IAAA,WAAW,EAAGA,EAAE,CAAE,mBAAF,CAHjB;AAIC,IAAA,QAAQ,EAAGC,EAAE,CAAE,WAAF,EAAe,cAAf,CAJd;AAKC,IAAA,UAAU,EAAG,CAAEW,mBAAmB,CAAEmC,KAAF,CALnC;AAMC,IAAA,OAAO,EAAG,MAAM;AACfC,MAAAA,QAAQ,CAAEhC,gBAAgB,CAAE+B,KAAF,CAAlB,CAAR;AACAE,MAAAA,OAAO;AACP;AATF,IA/BD,EA0CC,cAAC,aAAD;AACC,IAAA,IAAI,EAAG/C,KAAK,KAAK0B,eAAL,GAAuBD,YADpC;AAEC,IAAA,KAAK,EAAG3B,EAAE,CAAE,QAAF,CAFX;AAGC,IAAA,WAAW,EAAGA,EAAE,CAAE,kBAAF,CAHjB;AAIC,IAAA,QAAQ,EAAGC,EAAE,CAAE,OAAF,EAAW,cAAX,CAJd;AAKC,IAAA,UAAU,EAAG,CAAES,kBAAkB,CAAEqC,KAAF,CALlC;AAMC,IAAA,OAAO,EAAG,MAAM;AACfC,MAAAA,QAAQ,CAAElC,eAAe,CAAEiC,KAAF,EAAS;AAAEN,QAAAA,IAAI,EAAEI;AAAR,OAAT,CAAjB,CAAR;AACAI,MAAAA,OAAO;AACP;AATF,IA1CD,CA7BD,CADD;;AAuFA,QAAMC,UAAU,GAAG3C,aAAa,CAAE;AACjC+B,IAAAA;AADiC,GAAF,CAAhC;AAIA,SACC,8BACC,cAAC,QAAD;AACC,IAAA,UAAU,EAAC,QADZ;AAEC,IAAA,SAAS,EAAC,IAFX;AAGC,IAAA,OAAO,EAAGO,OAHX;AAIC,IAAA,QAAQ,EAAKM,UAAF,IACVhB,aAAa,CAAE;AAAEK,MAAAA,MAAM,EAAEW;AAAV,KAAF,CALf;AAOC,IAAA,KAAK,EAAGX,MAPT;AAQC,kBAAaxC,EAAE,CAAE,WAAF,CARhB;AASC,IAAA,WAAW,EAAG4C,WAAW,IAAI5C,EAAE,CAAE,MAAF,CAThC;AAUC,IAAA,OAAO,EAAGoC,WAVX;AAWC,IAAA,OAAO,EAAKW,KAAF,IACT5C,WAAW,CAAE4B,IAAF,EAAQ,EAAE,GAAGG,UAAL;AAAiBM,MAAAA,MAAM,EAAEO;AAAzB,KAAR,CAZb;AAcC,IAAA,uBAAuB,EAAG,MACzB5C,WAAW,CAAE,gBAAF,CAfb;AAiBC,IAAA,SAAS,EAAGkC,SAjBb;AAkBC,IAAA,QAAQ,EAAG,MAAMA,SAAS,CAAE,EAAF,CAlB3B;AAmBC,IAAA,KAAK,EAAGM,KAnBT;AAoBC,IAAA,QAAQ,EAAGD,QApBZ;AAqBC,IAAA,IAAI,EAAGD;AArBR,KAsBMS,UAtBN,GAwBGJ,QAxBH,CADD,EA2BGP,OAAO,IACR,cAAC,mBAAD;AACC,IAAA,aAAa,EAAGJ,aADjB;AAEC,IAAA,OAAO,EAAGI,OAFX;AAGC,IAAA,QAAQ,EAAGG,QAHZ;AAIC,IAAA,KAAK,EAAGC,KAJT;AAKC,IAAA,WAAW,EAAGC;AALf,IA5BF,CADD;AAuCA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, _x, isRTL } from '@wordpress/i18n';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tRichText,\n\tBlockControls,\n\tRichTextShortcut,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { ToolbarButton } from '@wordpress/components';\nimport {\n\t__unstableCanIndentListItems as canIndentListItems,\n\t__unstableCanOutdentListItems as canOutdentListItems,\n\t__unstableIndentListItems as indentListItems,\n\t__unstableOutdentListItems as outdentListItems,\n\t__unstableChangeListType as changeListType,\n\t__unstableIsListRootSelected as isListRootSelected,\n\t__unstableIsActiveListType as isActiveListType,\n} from '@wordpress/rich-text';\nimport {\n\tformatListBullets,\n\tformatListBulletsRTL,\n\tformatListNumbered,\n\tformatListNumberedRTL,\n\tformatIndent,\n\tformatIndentRTL,\n\tformatOutdent,\n\tformatOutdentRTL,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { name } from './';\nimport OrderedListSettings from './ordered-list-settings';\n\nexport default function ListEdit( {\n\tattributes,\n\tsetAttributes,\n\tmergeBlocks,\n\tonReplace,\n\tstyle,\n} ) {\n\tconst { ordered, values, type, reversed, start, placeholder } = attributes;\n\tconst tagName = ordered ? 'ol' : 'ul';\n\n\tconst controls = ( { value, onChange, onFocus } ) => (\n\t\t<>\n\t\t\t<RichTextShortcut\n\t\t\t\ttype=\"primary\"\n\t\t\t\tcharacter=\"[\"\n\t\t\t\tonUse={ () => {\n\t\t\t\t\tonChange( outdentListItems( value ) );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<RichTextShortcut\n\t\t\t\ttype=\"primary\"\n\t\t\t\tcharacter=\"]\"\n\t\t\t\tonUse={ () => {\n\t\t\t\t\tonChange( indentListItems( value, { type: tagName } ) );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<RichTextShortcut\n\t\t\t\ttype=\"primary\"\n\t\t\t\tcharacter=\"m\"\n\t\t\t\tonUse={ () => {\n\t\t\t\t\tonChange( indentListItems( value, { type: tagName } ) );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<RichTextShortcut\n\t\t\t\ttype=\"primaryShift\"\n\t\t\t\tcharacter=\"m\"\n\t\t\t\tonUse={ () => {\n\t\t\t\t\tonChange( outdentListItems( value ) );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ isRTL() ? formatListBulletsRTL : formatListBullets }\n\t\t\t\t\ttitle={ __( 'Unordered' ) }\n\t\t\t\t\tdescribedBy={ __( 'Convert to unordered list' ) }\n\t\t\t\t\tisActive={ isActiveListType( value, 'ul', tagName ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( changeListType( value, { type: 'ul' } ) );\n\t\t\t\t\t\tonFocus();\n\n\t\t\t\t\t\tif ( isListRootSelected( value ) ) {\n\t\t\t\t\t\t\tsetAttributes( { ordered: false } );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={\n\t\t\t\t\t\tisRTL() ? formatListNumberedRTL : formatListNumbered\n\t\t\t\t\t}\n\t\t\t\t\ttitle={ __( 'Ordered' ) }\n\t\t\t\t\tdescribedBy={ __( 'Convert to ordered list' ) }\n\t\t\t\t\tisActive={ isActiveListType( value, 'ol', tagName ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( changeListType( value, { type: 'ol' } ) );\n\t\t\t\t\t\tonFocus();\n\n\t\t\t\t\t\tif ( isListRootSelected( value ) ) {\n\t\t\t\t\t\t\tsetAttributes( { ordered: true } );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ isRTL() ? formatOutdentRTL : formatOutdent }\n\t\t\t\t\ttitle={ __( 'Outdent' ) }\n\t\t\t\t\tdescribedBy={ __( 'Outdent list item' ) }\n\t\t\t\t\tshortcut={ _x( 'Backspace', 'keyboard key' ) }\n\t\t\t\t\tisDisabled={ ! canOutdentListItems( value ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( outdentListItems( value ) );\n\t\t\t\t\t\tonFocus();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<ToolbarButton\n\t\t\t\t\ticon={ isRTL() ? formatIndentRTL : formatIndent }\n\t\t\t\t\ttitle={ __( 'Indent' ) }\n\t\t\t\t\tdescribedBy={ __( 'Indent list item' ) }\n\t\t\t\t\tshortcut={ _x( 'Space', 'keyboard key' ) }\n\t\t\t\t\tisDisabled={ ! canIndentListItems( value ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( indentListItems( value, { type: tagName } ) );\n\t\t\t\t\t\tonFocus();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t</>\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tstyle,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<RichText\n\t\t\t\tidentifier=\"values\"\n\t\t\t\tmultiline=\"li\"\n\t\t\t\ttagName={ tagName }\n\t\t\t\tonChange={ ( nextValues ) =>\n\t\t\t\t\tsetAttributes( { values: nextValues } )\n\t\t\t\t}\n\t\t\t\tvalue={ values }\n\t\t\t\taria-label={ __( 'List text' ) }\n\t\t\t\tplaceholder={ placeholder || __( 'List' ) }\n\t\t\t\tonMerge={ mergeBlocks }\n\t\t\t\tonSplit={ ( value ) =>\n\t\t\t\t\tcreateBlock( name, { ...attributes, values: value } )\n\t\t\t\t}\n\t\t\t\t__unstableOnSplitMiddle={ () =>\n\t\t\t\t\tcreateBlock( 'core/paragraph' )\n\t\t\t\t}\n\t\t\t\tonReplace={ onReplace }\n\t\t\t\tonRemove={ () => onReplace( [] ) }\n\t\t\t\tstart={ start }\n\t\t\t\treversed={ reversed }\n\t\t\t\ttype={ type }\n\t\t\t\t{ ...blockProps }\n\t\t\t>\n\t\t\t\t{ controls }\n\t\t\t</RichText>\n\t\t\t{ ordered && (\n\t\t\t\t<OrderedListSettings\n\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\tordered={ ordered }\n\t\t\t\t\treversed={ reversed }\n\t\t\t\t\tstart={ start }\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n"]}