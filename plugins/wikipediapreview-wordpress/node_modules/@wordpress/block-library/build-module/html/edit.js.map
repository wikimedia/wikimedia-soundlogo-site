{"version":3,"sources":["@wordpress/block-library/src/html/edit.js"],"names":["__","useState","BlockControls","PlainText","transformStyles","useBlockProps","store","blockEditorStore","ToolbarButton","Disabled","SandBox","ToolbarGroup","useSelect","HTMLEdit","attributes","setAttributes","isSelected","isPreview","setIsPreview","styles","select","defaultStyles","getSettings","switchToPreview","switchToHTML","className","isDisabled","content"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SACCC,aADD,EAECC,SAFD,EAGCC,eAHD,EAICC,aAJD,EAKCC,KAAK,IAAIC,gBALV,QAMO,yBANP;AAOA,SACCC,aADD,EAECC,QAFD,EAGCC,OAHD,EAICC,YAJD,QAKO,uBALP;AAMA,SAASC,SAAT,QAA0B,iBAA1B;AAEA,eAAe,SAASC,QAAT,CAAmB;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,aAAd;AAA6BC,EAAAA;AAA7B,CAAnB,EAA+D;AAC7E,QAAM,CAAEC,SAAF,EAAaC,YAAb,IAA8BjB,QAAQ,EAA5C;AAEA,QAAMkB,MAAM,GAAGP,SAAS,CAAIQ,MAAF,IAAc;AACvC;AACA;AACA,UAAMC,aAAa,GAAI;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,GAPE;AASA,WAAO,CACNA,aADM,EAEN,GAAGjB,eAAe,CACjBgB,MAAM,CAAEb,gBAAF,CAAN,CAA2Be,WAA3B,GAAyCH,MADxB,CAFZ,CAAP;AAMA,GAlBuB,EAkBrB,EAlBqB,CAAxB;;AAoBA,WAASI,eAAT,GAA2B;AAC1BL,IAAAA,YAAY,CAAE,IAAF,CAAZ;AACA;;AAED,WAASM,YAAT,GAAwB;AACvBN,IAAAA,YAAY,CAAE,KAAF,CAAZ;AACA;;AAED,SACC,qBAAUb,aAAa,CAAE;AAAEoB,IAAAA,SAAS,EAAE;AAAb,GAAF,CAAvB,EACC,cAAC,aAAD,QACC,cAAC,YAAD,QACC,cAAC,aAAD;AACC,IAAA,SAAS,EAAC,uBADX;AAEC,IAAA,SAAS,EAAG,CAAER,SAFf;AAGC,IAAA,OAAO,EAAGO;AAHX,KAKC,mCALD,CADD,EAQC,cAAC,aAAD;AACC,IAAA,SAAS,EAAC,uBADX;AAEC,IAAA,SAAS,EAAGP,SAFb;AAGC,IAAA,OAAO,EAAGM;AAHX,KAKC,4BAAQvB,EAAE,CAAE,SAAF,CAAV,CALD,CARD,CADD,CADD,EAmBC,cAAC,QAAD,CAAU,QAAV,QACK0B,UAAF,IACDT,SAAS,IAAIS,UAAb,GACC,8BACC,cAAC,OAAD;AACC,IAAA,IAAI,EAAGZ,UAAU,CAACa,OADnB;AAEC,IAAA,MAAM,EAAGR;AAFV,IADD,EAUG,CAAEH,UAAF,IACD;AAAK,IAAA,SAAS,EAAC;AAAf,IAXF,CADD,GAgBC,cAAC,SAAD;AACC,IAAA,KAAK,EAAGF,UAAU,CAACa,OADpB;AAEC,IAAA,QAAQ,EAAKA,OAAF,IACVZ,aAAa,CAAE;AAAEY,MAAAA;AAAF,KAAF,CAHf;AAKC,IAAA,WAAW,EAAG3B,EAAE,CAAE,aAAF,CALjB;AAMC,kBAAaA,EAAE,CAAE,MAAF;AANhB,IAlBH,CAnBD,CADD;AAmDA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tBlockControls,\n\tPlainText,\n\ttransformStyles,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tToolbarButton,\n\tDisabled,\n\tSandBox,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\nexport default function HTMLEdit( { attributes, setAttributes, isSelected } ) {\n\tconst [ isPreview, setIsPreview ] = useState();\n\n\tconst styles = useSelect( ( select ) => {\n\t\t// Default styles used to unset some of the styles\n\t\t// that might be inherited from the editor style.\n\t\tconst defaultStyles = `\n\t\t\thtml,body,:root {\n\t\t\t\tmargin: 0 !important;\n\t\t\t\tpadding: 0 !important;\n\t\t\t\toverflow: visible !important;\n\t\t\t\tmin-height: auto !important;\n\t\t\t}\n\t\t`;\n\n\t\treturn [\n\t\t\tdefaultStyles,\n\t\t\t...transformStyles(\n\t\t\t\tselect( blockEditorStore ).getSettings().styles\n\t\t\t),\n\t\t];\n\t}, [] );\n\n\tfunction switchToPreview() {\n\t\tsetIsPreview( true );\n\t}\n\n\tfunction switchToHTML() {\n\t\tsetIsPreview( false );\n\t}\n\n\treturn (\n\t\t<div { ...useBlockProps( { className: 'block-library-html__edit' } ) }>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName=\"components-tab-button\"\n\t\t\t\t\t\tisPressed={ ! isPreview }\n\t\t\t\t\t\tonClick={ switchToHTML }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>HTML</span>\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tclassName=\"components-tab-button\"\n\t\t\t\t\t\tisPressed={ isPreview }\n\t\t\t\t\t\tonClick={ switchToPreview }\n\t\t\t\t\t>\n\t\t\t\t\t\t<span>{ __( 'Preview' ) }</span>\n\t\t\t\t\t</ToolbarButton>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t<Disabled.Consumer>\n\t\t\t\t{ ( isDisabled ) =>\n\t\t\t\t\tisPreview || isDisabled ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<SandBox\n\t\t\t\t\t\t\t\thtml={ attributes.content }\n\t\t\t\t\t\t\t\tstyles={ styles }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{ /*\t\n\t\t\t\t\t\t\t\t\tAn overlay is added when the block is not selected in order to register click events. \n\t\t\t\t\t\t\t\t\tSome browsers do not bubble up the clicks from the sandboxed iframe, which makes it \n\t\t\t\t\t\t\t\t\tdifficult to reselect the block. \n\t\t\t\t\t\t\t\t*/ }\n\t\t\t\t\t\t\t{ ! isSelected && (\n\t\t\t\t\t\t\t\t<div className=\"block-library-html__preview-overlay\"></div>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PlainText\n\t\t\t\t\t\t\tvalue={ attributes.content }\n\t\t\t\t\t\t\tonChange={ ( content ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { content } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tplaceholder={ __( 'Write HTMLâ€¦' ) }\n\t\t\t\t\t\t\taria-label={ __( 'HTML' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Disabled.Consumer>\n\t\t</div>\n\t);\n}\n"]}