import { createElement } from "@wordpress/element";

/**
 * External dependencies
 */
import colorize from 'tinycolor2';
/**
 * WordPress dependencies
 */

import { __ } from '@wordpress/i18n';
/**
 * Internal dependencies
 */

import { Text } from '../../text';
import { Spacer } from '../../spacer';
import { space } from '../utils/space';
import { ColorHexInputControl } from './styles';
export const HexInput = ({
  color,
  onChange,
  enableAlpha
}) => {
  const handleValidate = value => {
    if (!colorize(value).isValid()) {
      throw new Error('Invalid hex color input');
    }
  };

  const colorized = colorize(color);
  const value = enableAlpha ? colorized.toHex8String() : colorized.toHexString();
  return createElement(ColorHexInputControl, {
    prefix: createElement(Spacer, {
      as: Text,
      marginLeft: space(3.5),
      color: "blue",
      lineHeight: 1
    }, "#"),
    value: value.slice(1).toUpperCase(),
    onChange: nextValue => onChange(colorize(nextValue).toHsl()),
    onValidate: handleValidate,
    maxLength: enableAlpha ? 8 : 6,
    label: __('Hex color'),
    hideLabelFromVision: true
  });
};
//# sourceMappingURL=hex-input.js.map