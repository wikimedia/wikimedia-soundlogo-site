{"version":3,"sources":["@wordpress/block-library/src/post-comment-date/edit.js"],"names":["Edit","attributes","context","setAttributes","className","format","commentId","settings","siteDateFormat","date","formatOptions","Object","values","formats","map","formatOption","key","name","resolvedFormat","blockProps","selectedItem","find","option"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AAPA;AACA;AACA;AAOe,SAASA,IAAT,CAAe;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,OAAd;AAAuBC,EAAAA;AAAvB,CAAf,EAAwD;AACtE,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAwBJ,UAA9B;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAgBJ,OAAtB;AAEA,QAAMK,QAAQ,GAAG,sCAAjB;AACA,QAAM,CAAEC,cAAF,IAAqB,6BAAe,MAAf,EAAuB,MAAvB,EAA+B,aAA/B,CAA3B;AACA,QAAM,CAAEC,IAAF,IAAW,6BAAe,MAAf,EAAuB,SAAvB,EAAkC,MAAlC,EAA0CH,SAA1C,CAAjB;AAEA,QAAMI,aAAa,GAAGC,MAAM,CAACC,MAAP,CAAeL,QAAQ,CAACM,OAAxB,EAAkCC,GAAlC,CACnBC,YAAF,KAAsB;AACrBC,IAAAA,GAAG,EAAED,YADgB;AAErBE,IAAAA,IAAI,EAAE,oBAAUF,YAAV,EAAwBN,IAAxB;AAFe,GAAtB,CADqB,CAAtB;AAMA,QAAMS,cAAc,GAAGb,MAAM,IAAIG,cAAV,IAA4BD,QAAQ,CAACM,OAAT,CAAiBJ,IAApE;AACA,QAAMU,UAAU,GAAG,gCAAe;AAAEf,IAAAA;AAAF,GAAf,CAAnB;AAEA,SACC,qDACC,4BAAC,8BAAD,QACC,4BAAC,qBAAD;AAAW,IAAA,KAAK,EAAG,cAAI,iBAAJ;AAAnB,KACC,4BAAC,+BAAD;AACC,IAAA,mBAAmB,MADpB;AAEC,IAAA,KAAK,EAAG,cAAI,aAAJ,CAFT;AAGC,IAAA,OAAO,EAAGM,aAHX;AAIC,IAAA,QAAQ,EAAG,CAAE;AAAEU,MAAAA;AAAF,KAAF,KACVjB,aAAa,CAAE;AACdE,MAAAA,MAAM,EAAEe,YAAY,CAACJ;AADP,KAAF,CALf;AASC,IAAA,KAAK,EAAGN,aAAa,CAACW,IAAd,CACLC,MAAF,IAAcA,MAAM,CAACN,GAAP,KAAeE,cADtB;AATT,IADD,CADD,CADD,EAmBC,mCAAUC,UAAV,EACC;AAAM,IAAA,QAAQ,EAAG,oBAAU,GAAV,EAAeV,IAAf;AAAjB,KACG,oBAAUS,cAAV,EAA0BT,IAA1B,CADH,CADD,CAnBD,CADD;AA2BA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport { __experimentalGetSettings, dateI18n } from '@wordpress/date';\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport { PanelBody, CustomSelectControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nexport default function Edit( { attributes, context, setAttributes } ) {\n\tconst { className, format } = attributes;\n\tconst { commentId } = context;\n\n\tconst settings = __experimentalGetSettings();\n\tconst [ siteDateFormat ] = useEntityProp( 'root', 'site', 'date_format' );\n\tconst [ date ] = useEntityProp( 'root', 'comment', 'date', commentId );\n\n\tconst formatOptions = Object.values( settings.formats ).map(\n\t\t( formatOption ) => ( {\n\t\t\tkey: formatOption,\n\t\t\tname: dateI18n( formatOption, date ),\n\t\t} )\n\t);\n\tconst resolvedFormat = format || siteDateFormat || settings.formats.date;\n\tconst blockProps = useBlockProps( { className } );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Format settings' ) }>\n\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\tlabel={ __( 'Date Format' ) }\n\t\t\t\t\t\toptions={ formatOptions }\n\t\t\t\t\t\tonChange={ ( { selectedItem } ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tformat: selectedItem.key,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue={ formatOptions.find(\n\t\t\t\t\t\t\t( option ) => option.key === resolvedFormat\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<div { ...blockProps }>\n\t\t\t\t<time dateTime={ dateI18n( 'c', date ) }>\n\t\t\t\t\t{ dateI18n( resolvedFormat, date ) }\n\t\t\t\t</time>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"]}