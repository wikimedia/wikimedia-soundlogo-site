{"version":3,"sources":["@wordpress/block-library/src/navigation-submenu/view.js"],"names":["closeSubmenus","element","querySelectorAll","forEach","toggle","setAttribute","toggleSubmenuOnClick","event","buttonToggle","target","closest","isSubmenuOpen","getAttribute","parentElement","parentList","Array","from","children","child","submenuButtons","document","button","addEventListener","navigationBlocks","block","contains","submenuBlocks"],"mappings":";;AAAA,MAAMA,aAAa,GAAKC,OAAF,IAAe;AACpCA,EAAAA,OAAO,CACLC,gBADF,CACoB,wBADpB,EAEEC,OAFF,CAEaC,MAAF,IAAc;AACvBA,IAAAA,MAAM,CAACC,YAAP,CAAqB,eAArB,EAAsC,OAAtC;AACA,GAJF;AAKA,CAND;;AAQA,MAAMC,oBAAoB,GAAKC,KAAF,IAAa;AACzC,QAAMC,YAAY,GAAGD,KAAK,CAACE,MAAN,CAAaC,OAAb,CAAsB,iBAAtB,CAArB;AACA,QAAMC,aAAa,GAAGH,YAAY,CAACI,YAAb,CAA2B,eAA3B,CAAtB;;AAEA,MAAKD,aAAa,KAAK,MAAvB,EAAgC;AAC/BX,IAAAA,aAAa,CAAEQ,YAAY,CAACE,OAAb,CAAsB,8BAAtB,CAAF,CAAb;AACA,GAFD,MAEO;AACN;AACA,UAAMG,aAAa,GAAGL,YAAY,CAACE,OAAb,CACrB,8BADqB,CAAtB;AAGA,UAAMI,UAAU,GACfN,YAAY,CAACE,OAAb,CAAsB,yCAAtB,KACAF,YAAY,CAACE,OAAb,CAAsB,iCAAtB,CAFD;AAGAK,IAAAA,KAAK,CAACC,IAAN,CAAYF,UAAU,CAACG,QAAvB,EAAkCd,OAAlC,CAA6Ce,KAAF,IAAa;AACvD,UAAKA,KAAK,KAAKL,aAAf,EAA+B;AAC9Bb,QAAAA,aAAa,CAAEkB,KAAF,CAAb;AACA;AACD,KAJD,EARM,CAaN;;AACAV,IAAAA,YAAY,CAACH,YAAb,CAA2B,eAA3B,EAA4C,MAA5C;AACA;AACD,CAtBD;;AAwBA,MAAMc,cAAc,GAAGC,QAAQ,CAAClB,gBAAT,CACtB,sCADsB,CAAvB;AAIAiB,cAAc,CAAChB,OAAf,CAA0BkB,MAAF,IAAc;AACrCA,EAAAA,MAAM,CAACC,gBAAP,CAAyB,OAAzB,EAAkChB,oBAAlC;AACA,CAFD,E,CAIA;;AACAc,QAAQ,CAACE,gBAAT,CAA2B,OAA3B,EAAoC,UAAWf,KAAX,EAAmB;AACtD,QAAMgB,gBAAgB,GAAGH,QAAQ,CAAClB,gBAAT,CACxB,sBADwB,CAAzB;AAGAqB,EAAAA,gBAAgB,CAACpB,OAAjB,CAA4BqB,KAAF,IAAa;AACtC,QAAK,CAAEA,KAAK,CAACC,QAAN,CAAgBlB,KAAK,CAACE,MAAtB,CAAP,EAAwC;AACvCT,MAAAA,aAAa,CAAEwB,KAAF,CAAb;AACA;AACD,GAJD;AAKA,CATD,E,CAUA;;AACAJ,QAAQ,CAACE,gBAAT,CAA2B,OAA3B,EAAoC,UAAWf,KAAX,EAAmB;AACtD,QAAMmB,aAAa,GAAGN,QAAQ,CAAClB,gBAAT,CACrB,8BADqB,CAAtB;AAGAwB,EAAAA,aAAa,CAACvB,OAAd,CAAyBqB,KAAF,IAAa;AACnC,QAAK,CAAEA,KAAK,CAACC,QAAN,CAAgBlB,KAAK,CAACE,MAAtB,CAAP,EAAwC;AACvCT,MAAAA,aAAa,CAAEwB,KAAF,CAAb;AACA;AACD,GAJD;AAKA,CATD","sourcesContent":["const closeSubmenus = ( element ) => {\n\telement\n\t\t.querySelectorAll( '[aria-expanded=\"true\"]' )\n\t\t.forEach( ( toggle ) => {\n\t\t\ttoggle.setAttribute( 'aria-expanded', 'false' );\n\t\t} );\n};\n\nconst toggleSubmenuOnClick = ( event ) => {\n\tconst buttonToggle = event.target.closest( '[aria-expanded]' );\n\tconst isSubmenuOpen = buttonToggle.getAttribute( 'aria-expanded' );\n\n\tif ( isSubmenuOpen === 'true' ) {\n\t\tcloseSubmenus( buttonToggle.closest( '.wp-block-navigation-submenu' ) );\n\t} else {\n\t\t// Close all sibling submenus.\n\t\tconst parentElement = buttonToggle.closest(\n\t\t\t'.wp-block-navigation-submenu'\n\t\t);\n\t\tconst parentList =\n\t\t\tbuttonToggle.closest( '.wp-block-navigation__submenu-container' ) ||\n\t\t\tbuttonToggle.closest( '.wp-block-navigation__container' );\n\t\tArray.from( parentList.children ).forEach( ( child ) => {\n\t\t\tif ( child !== parentElement ) {\n\t\t\t\tcloseSubmenus( child );\n\t\t\t}\n\t\t} );\n\t\t// Open submenu.\n\t\tbuttonToggle.setAttribute( 'aria-expanded', 'true' );\n\t}\n};\n\nconst submenuButtons = document.querySelectorAll(\n\t'.wp-block-navigation-submenu__toggle'\n);\n\nsubmenuButtons.forEach( ( button ) => {\n\tbutton.addEventListener( 'click', toggleSubmenuOnClick );\n} );\n\n// Close on click outside.\ndocument.addEventListener( 'click', function ( event ) {\n\tconst navigationBlocks = document.querySelectorAll(\n\t\t'.wp-block-navigation'\n\t);\n\tnavigationBlocks.forEach( ( block ) => {\n\t\tif ( ! block.contains( event.target ) ) {\n\t\t\tcloseSubmenus( block );\n\t\t}\n\t} );\n} );\n// Close on focus outside.\ndocument.addEventListener( 'keyup', function ( event ) {\n\tconst submenuBlocks = document.querySelectorAll(\n\t\t'.wp-block-navigation-submenu'\n\t);\n\tsubmenuBlocks.forEach( ( block ) => {\n\t\tif ( ! block.contains( event.target ) ) {\n\t\t\tcloseSubmenus( block );\n\t\t}\n\t} );\n} );\n"]}