{"version":3,"sources":["@wordpress/block-library/src/navigation/deprecated.js"],"names":["TYPOGRAPHY_PRESET_DEPRECATION_MAP","fontStyle","fontWeight","textDecoration","textTransform","attributes","orientation","type","textColor","customTextColor","rgbTextColor","backgroundColor","customBackgroundColor","rgbBackgroundColor","itemsJustification","showSubmenuIcon","default","supports","align","anchor","html","inserter","fontSize","__experimentalFontStyle","__experimentalFontWeight","__experimentalTextTransform","color","__experimentalFontFamily","__experimentalTextDecoration","save","isEligible","style","typography","styleAttribute","attributeValue","startsWith","migrate","value","key","prefix","newValue","slice","length","className","customFontSize","attribute","undefined"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { mapValues, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { InnerBlocks } from '@wordpress/block-editor';\n\nconst TYPOGRAPHY_PRESET_DEPRECATION_MAP = {\n\tfontStyle: 'var:preset|font-style|',\n\tfontWeight: 'var:preset|font-weight|',\n\ttextDecoration: 'var:preset|text-decoration|',\n\ttextTransform: 'var:preset|text-transform|',\n};\n\nexport default [\n\t{\n\t\tattributes: {\n\t\t\torientation: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\ttextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tcustomTextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\trgbTextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tbackgroundColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tcustomBackgroundColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\trgbBackgroundColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\titemsJustification: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tshowSubmenuIcon: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefault: true,\n\t\t\t},\n\t\t},\n\t\tsupports: {\n\t\t\talign: [ 'wide', 'full' ],\n\t\t\tanchor: true,\n\t\t\thtml: false,\n\t\t\tinserter: true,\n\t\t\tfontSize: true,\n\t\t\t__experimentalFontStyle: true,\n\t\t\t__experimentalFontWeight: true,\n\t\t\t__experimentalTextTransform: true,\n\t\t\tcolor: true,\n\t\t\t__experimentalFontFamily: true,\n\t\t\t__experimentalTextDecoration: true,\n\t\t},\n\t\tsave() {\n\t\t\treturn <InnerBlocks.Content />;\n\t\t},\n\t\tisEligible( attributes ) {\n\t\t\tif ( ! attributes.style || ! attributes.style.typography ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor ( const styleAttribute in TYPOGRAPHY_PRESET_DEPRECATION_MAP ) {\n\t\t\t\tconst attributeValue =\n\t\t\t\t\tattributes.style.typography[ styleAttribute ];\n\t\t\t\tif (\n\t\t\t\t\tattributeValue &&\n\t\t\t\t\tattributeValue.startsWith(\n\t\t\t\t\t\tTYPOGRAPHY_PRESET_DEPRECATION_MAP[ styleAttribute ]\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tmigrate( attributes ) {\n\t\t\treturn {\n\t\t\t\t...attributes,\n\t\t\t\tstyle: {\n\t\t\t\t\t...attributes.style,\n\t\t\t\t\ttypography: mapValues(\n\t\t\t\t\t\tattributes.style.typography,\n\t\t\t\t\t\t( value, key ) => {\n\t\t\t\t\t\t\tconst prefix =\n\t\t\t\t\t\t\t\tTYPOGRAPHY_PRESET_DEPRECATION_MAP[ key ];\n\t\t\t\t\t\t\tif ( prefix && value.startsWith( prefix ) ) {\n\t\t\t\t\t\t\t\tconst newValue = value.slice( prefix.length );\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t'textDecoration' === key &&\n\t\t\t\t\t\t\t\t\t'strikethrough' === newValue\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn 'line-through';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn newValue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tattributes: {\n\t\t\tclassName: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\ttextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\trgbTextColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tbackgroundColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\trgbBackgroundColor: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tfontSize: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tcustomFontSize: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\titemsJustification: {\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tshowSubmenuIcon: {\n\t\t\t\ttype: 'boolean',\n\t\t\t},\n\t\t},\n\t\tisEligible( attribute ) {\n\t\t\treturn attribute.rgbTextColor || attribute.rgbBackgroundColor;\n\t\t},\n\t\tsupports: {\n\t\t\talign: [ 'wide', 'full' ],\n\t\t\tanchor: true,\n\t\t\thtml: false,\n\t\t\tinserter: true,\n\t\t},\n\t\tmigrate( attributes ) {\n\t\t\treturn {\n\t\t\t\t...omit( attributes, [ 'rgbTextColor', 'rgbBackgroundColor' ] ),\n\t\t\t\tcustomTextColor: attributes.textColor\n\t\t\t\t\t? undefined\n\t\t\t\t\t: attributes.rgbTextColor,\n\t\t\t\tcustomBackgroundColor: attributes.backgroundColor\n\t\t\t\t\t? undefined\n\t\t\t\t\t: attributes.rgbBackgroundColor,\n\t\t\t};\n\t\t},\n\t\tsave() {\n\t\t\treturn <InnerBlocks.Content />;\n\t\t},\n\t},\n];\n"]}