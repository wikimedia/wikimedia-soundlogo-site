{"version":3,"sources":["@wordpress/block-library/src/social-link/edit.js"],"names":["SocialLinkURLPopover","url","setAttributes","setPopover","anchorRef","current","event","preventDefault","nextURL","keyboardReturn","SocialLinkEdit","attributes","context","isSelected","service","label","iconColorValue","iconBackgroundColorValue","showURLPopover","classes","ref","IconComponent","socialLinkName","blockProps","className","style","color","backgroundColor","value"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tInspectorControls,\n\tURLPopover,\n\tURLInput,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\nimport { Fragment, useState, useRef } from '@wordpress/element';\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tTextControl,\n} from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { getIconBySite, getNameBySite } from './social-list';\n\nconst SocialLinkURLPopover = ( {\n\turl,\n\tsetAttributes,\n\tsetPopover,\n\tanchorRef,\n} ) => (\n\t<URLPopover\n\t\tanchorRef={ anchorRef?.current }\n\t\tonClose={ () => setPopover( false ) }\n\t>\n\t\t<form\n\t\t\tclassName=\"block-editor-url-popover__link-editor\"\n\t\t\tonSubmit={ ( event ) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tsetPopover( false );\n\t\t\t} }\n\t\t>\n\t\t\t<div className=\"block-editor-url-input\">\n\t\t\t\t<URLInput\n\t\t\t\t\tvalue={ url }\n\t\t\t\t\tonChange={ ( nextURL ) =>\n\t\t\t\t\t\tsetAttributes( { url: nextURL } )\n\t\t\t\t\t}\n\t\t\t\t\tplaceholder={ __( 'Enter address' ) }\n\t\t\t\t\tdisableSuggestions={ true }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Button\n\t\t\t\ticon={ keyboardReturn }\n\t\t\t\tlabel={ __( 'Apply' ) }\n\t\t\t\ttype=\"submit\"\n\t\t\t/>\n\t\t</form>\n\t</URLPopover>\n);\n\nconst SocialLinkEdit = ( {\n\tattributes,\n\tcontext,\n\tisSelected,\n\tsetAttributes,\n} ) => {\n\tconst { url, service, label } = attributes;\n\tconst { iconColorValue, iconBackgroundColorValue } = context;\n\tconst [ showURLPopover, setPopover ] = useState( false );\n\tconst classes = classNames( 'wp-social-link', 'wp-social-link-' + service, {\n\t\t'wp-social-link__is-incomplete': ! url,\n\t} );\n\n\tconst ref = useRef();\n\tconst IconComponent = getIconBySite( service );\n\tconst socialLinkName = getNameBySite( service );\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classes,\n\t\tstyle: {\n\t\t\tcolor: iconColorValue,\n\t\t\tbackgroundColor: iconBackgroundColorValue,\n\t\t},\n\t} );\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t\t/* translators: %s: name of the social service. */\n\t\t\t\t\t\t__( '%s label' ),\n\t\t\t\t\t\tsocialLinkName\n\t\t\t\t\t) }\n\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={ __( 'Link label' ) }\n\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t'Briefly describe the link to help screen reader users.'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { label: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<li { ...blockProps }>\n\t\t\t\t<Button ref={ ref } onClick={ () => setPopover( true ) }>\n\t\t\t\t\t<IconComponent />\n\t\t\t\t\t{ isSelected && showURLPopover && (\n\t\t\t\t\t\t<SocialLinkURLPopover\n\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\tsetAttributes={ setAttributes }\n\t\t\t\t\t\t\tsetPopover={ setPopover }\n\t\t\t\t\t\t\tanchorRef={ ref }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</li>\n\t\t</Fragment>\n\t);\n};\n\nexport default SocialLinkEdit;\n"]}