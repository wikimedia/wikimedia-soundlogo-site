{"version":3,"sources":["@wordpress/block-library/src/index.native.js"],"names":["ALLOWED_BLOCKS_GRADIENT_SUPPORT","coreBlocks","paragraph","image","heading","gallery","list","quote","shortcode","archives","audio","button","calendar","categories","code","columns","column","cover","embed","file","html","mediaText","latestComments","latestPosts","missing","more","nextpage","preformatted","pullquote","rss","search","separator","reusableBlock","spacer","table","tagCloud","textColumns","verse","video","classic","buttons","socialLink","socialLinks","reduce","accumulator","block","name","registerBlock","metadata","settings","supports","includes","color","gradients","registerBlockVariations","variations","forEach","v","icon","title","devOnly","__DEV__","iOSOnly","Platform","OS","hiddenBlocks","inserter","transforms","supportedMobileTransforms","registerCoreBlocks","group","NEW_BLOCK_TYPES"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { Platform } from 'react-native';\nimport { sortBy } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {\n\thasBlockSupport,\n\tregisterBlockType,\n\tsetDefaultBlockName,\n\tsetFreeformContentHandlerName,\n\tsetUnregisteredTypeHandlerName,\n\tsetGroupingBlockName,\n} from '@wordpress/blocks';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport * as paragraph from './paragraph';\nimport * as image from './image';\nimport * as heading from './heading';\nimport * as quote from './quote';\nimport * as gallery from './gallery';\nimport * as archives from './archives';\nimport * as audio from './audio';\nimport * as button from './button';\nimport * as calendar from './calendar';\nimport * as categories from './categories';\nimport * as code from './code';\nimport * as columns from './columns';\nimport * as column from './column';\nimport * as cover from './cover';\nimport * as embed from './embed';\nimport * as file from './file';\nimport * as html from './html';\nimport * as mediaText from './media-text';\nimport * as latestComments from './latest-comments';\nimport * as latestPosts from './latest-posts';\nimport * as list from './list';\nimport * as missing from './missing';\nimport * as more from './more';\nimport * as nextpage from './nextpage';\nimport * as preformatted from './preformatted';\nimport * as pullquote from './pullquote';\nimport * as reusableBlock from './block';\nimport * as rss from './rss';\nimport * as search from './search';\nimport * as separator from './separator';\nimport * as shortcode from './shortcode';\nimport * as spacer from './spacer';\nimport * as table from './table';\nimport * as textColumns from './text-columns';\nimport * as verse from './verse';\nimport * as video from './video';\nimport * as tagCloud from './tag-cloud';\nimport * as classic from './freeform';\nimport * as group from './group';\nimport * as buttons from './buttons';\nimport * as socialLink from './social-link';\nimport * as socialLinks from './social-links';\n\nimport { transformationCategory } from './transformationCategories';\n\nconst ALLOWED_BLOCKS_GRADIENT_SUPPORT = [ 'core/button' ];\n\nexport const coreBlocks = [\n\t// Common blocks are grouped at the top to prioritize their display\n\t// in various contexts â€” like the inserter and auto-complete components.\n\tparagraph,\n\timage,\n\theading,\n\tgallery,\n\tlist,\n\tquote,\n\n\t// Register all remaining core blocks.\n\tshortcode,\n\tarchives,\n\taudio,\n\tbutton,\n\tcalendar,\n\tcategories,\n\tcode,\n\tcolumns,\n\tcolumn,\n\tcover,\n\tembed,\n\tfile,\n\thtml,\n\tmediaText,\n\tlatestComments,\n\tlatestPosts,\n\tmissing,\n\tmore,\n\tnextpage,\n\tpreformatted,\n\tpullquote,\n\trss,\n\tsearch,\n\tseparator,\n\treusableBlock,\n\tspacer,\n\ttable,\n\ttagCloud,\n\ttextColumns,\n\tverse,\n\tvideo,\n\tclassic,\n\tbuttons,\n\tsocialLink,\n\tsocialLinks,\n].reduce( ( accumulator, block ) => {\n\taccumulator[ block.name ] = block;\n\treturn accumulator;\n}, {} );\n\n/**\n * Function to register an individual block.\n *\n * @param {Object} block The block to be registered.\n *\n */\nconst registerBlock = ( block ) => {\n\tif ( ! block ) {\n\t\treturn;\n\t}\n\tconst { metadata, settings, name } = block;\n\tconst { supports } = metadata;\n\n\tregisterBlockType(\n\t\t{\n\t\t\tname,\n\t\t\t...metadata,\n\t\t\t// Gradients support only available for blocks listed in ALLOWED_BLOCKS_GRADIENT_SUPPORT\n\t\t\t...( ! ALLOWED_BLOCKS_GRADIENT_SUPPORT.includes( name ) &&\n\t\t\tsupports?.color?.gradients\n\t\t\t\t? {\n\t\t\t\t\t\tsupports: {\n\t\t\t\t\t\t\t...supports,\n\t\t\t\t\t\t\tcolor: { ...supports.color, gradients: false },\n\t\t\t\t\t\t},\n\t\t\t\t  }\n\t\t\t\t: {} ),\n\t\t},\n\t\tsettings\n\t);\n};\n\n/**\n * Function to register a block variations e.g. social icons different types.\n *\n * @param {Object} block The block which variations will be registered.\n *\n */\nconst registerBlockVariations = ( block ) => {\n\tconst { metadata, settings, name } = block;\n\n\tsortBy( settings.variations, 'title' ).forEach( ( v ) => {\n\t\tregisterBlockType( `${ name }-${ v.name }`, {\n\t\t\t...metadata,\n\t\t\tname: `${ name }-${ v.name }`,\n\t\t\t...settings,\n\t\t\ticon: v.icon(),\n\t\t\ttitle: v.title,\n\t\t\tvariations: [],\n\t\t} );\n\t} );\n};\n\n// only enable code block for development\n// eslint-disable-next-line no-undef\nconst devOnly = ( block ) => ( !! __DEV__ ? block : null );\n\n// eslint-disable-next-line no-unused-vars\nconst iOSOnly = ( block ) =>\n\tPlatform.OS === 'ios' ? block : devOnly( block );\n\n// Hide the Classic block and SocialLink block\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/react-native-editor',\n\t( settings, name ) => {\n\t\tconst hiddenBlocks = [ 'core/freeform', 'core/social-link' ];\n\t\tif (\n\t\t\thiddenBlocks.includes( name ) &&\n\t\t\thasBlockSupport( settings, 'inserter', true )\n\t\t) {\n\t\t\tsettings.supports = {\n\t\t\t\t...settings.supports,\n\t\t\t\tinserter: false,\n\t\t\t};\n\t\t}\n\n\t\treturn settings;\n\t}\n);\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/react-native-editor',\n\t( settings, name ) => {\n\t\tif ( ! settings.transforms ) {\n\t\t\treturn settings;\n\t\t}\n\n\t\tif ( ! settings.transforms.supportedMobileTransforms ) {\n\t\t\treturn {\n\t\t\t\t...settings,\n\t\t\t\ttransforms: {\n\t\t\t\t\t...settings.transforms,\n\t\t\t\t\tsupportedMobileTransforms: transformationCategory( name ),\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\n\t\treturn settings;\n\t}\n);\n\n/**\n * Function to register core blocks provided by the block editor.\n *\n * @example\n * ```js\n * import { registerCoreBlocks } from '@wordpress/block-library';\n *\n * registerCoreBlocks();\n * ```\n */\nexport const registerCoreBlocks = () => {\n\t// When adding new blocks to this list please also consider updating /src/block-support/supported-blocks.json in the Gutenberg-Mobile repo\n\t[\n\t\tparagraph,\n\t\theading,\n\t\tdevOnly( code ),\n\t\tmissing,\n\t\tmore,\n\t\timage,\n\t\tvideo,\n\t\tnextpage,\n\t\tseparator,\n\t\tlist,\n\t\tquote,\n\t\tmediaText,\n\t\tpreformatted,\n\t\tgallery,\n\t\tcolumns,\n\t\tcolumn,\n\t\tgroup,\n\t\tclassic,\n\t\tbutton,\n\t\tspacer,\n\t\tshortcode,\n\t\tbuttons,\n\t\tlatestPosts,\n\t\tverse,\n\t\tcover,\n\t\tsocialLink,\n\t\tsocialLinks,\n\t\tpullquote,\n\t\tfile,\n\t\taudio,\n\t\treusableBlock,\n\t\tsearch,\n\t\tembed,\n\t].forEach( registerBlock );\n\n\tregisterBlockVariations( socialLink );\n\tsetDefaultBlockName( paragraph.name );\n\tsetFreeformContentHandlerName( classic.name );\n\tsetUnregisteredTypeHandlerName( missing.name );\n\tif ( group ) {\n\t\tsetGroupingBlockName( group.name );\n\t}\n};\n\n/**\n * Dictates which block types are considered \"new.\" For each of the block types\n * below, if the native host app does not already have an impression count set,\n * an initial count will be set. When a block type's impression count is greater\n * than 0, a \"new\" badge is displayed on the block type within the block\n * inserter.\n *\n * @constant {{ string, number }}\n */\nexport const NEW_BLOCK_TYPES = {\n\t[ embed.name ]: 40,\n\t[ search.name ]: 40,\n\t[ audio.name ]: 40,\n};\n"]}