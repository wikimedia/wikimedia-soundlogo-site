{"version":3,"sources":["@wordpress/editor/src/components/post-author/select.js"],"names":["PostAuthorSelect","editPost","editorStore","postAuthor","authors","select","getEditedPostAttribute","coreStore","getUsers","AUTHORS_QUERY","authorOptions","map","author","value","id","label","name","setAuthorId","Number"],"mappings":";;;;;;;AAIA;;AADA;;AAEA;;AACA;;AACA;;AACA;;AAKA;;AACA;;AAdA;AACA;AACA;;AAQA;AACA;AACA;AAIA,SAASA,gBAAT,GAA4B;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAAe,uBAAaC,YAAb,CAArB;AACA,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAA0B,qBAAaC,MAAF,IAAc;AACxD,WAAO;AACNF,MAAAA,UAAU,EAAEE,MAAM,CAAEH,YAAF,CAAN,CAAsBI,sBAAtB,CACX,QADW,CADN;AAINF,MAAAA,OAAO,EAAEC,MAAM,CAAEE,eAAF,CAAN,CAAoBC,QAApB,CAA8BC,wBAA9B;AAJH,KAAP;AAMA,GAP+B,EAO7B,EAP6B,CAAhC;AASA,QAAMC,aAAa,GAAG,sBAAS,MAAM;AACpC,WAAO,CAAEN,OAAF,aAAEA,OAAF,cAAEA,OAAF,GAAa,EAAb,EAAkBO,GAAlB,CAAyBC,MAAF,IAAc;AAC3C,aAAO;AACNC,QAAAA,KAAK,EAAED,MAAM,CAACE,EADR;AAENC,QAAAA,KAAK,EAAE,kCAAgBH,MAAM,CAACI,IAAvB;AAFD,OAAP;AAIA,KALM,CAAP;AAMA,GAPqB,EAOnB,CAAEZ,OAAF,CAPmB,CAAtB;;AASA,QAAMa,WAAW,GAAKJ,KAAF,IAAa;AAChC,UAAMD,MAAM,GAAGM,MAAM,CAAEL,KAAF,CAArB;AACAZ,IAAAA,QAAQ,CAAE;AAAEW,MAAAA;AAAF,KAAF,CAAR;AACA,GAHD;;AAKA,SACC,4BAAC,yBAAD;AACC,IAAA,SAAS,EAAC,sBADX;AAEC,IAAA,KAAK,EAAG,cAAI,QAAJ,CAFT;AAGC,IAAA,OAAO,EAAGF,aAHX;AAIC,IAAA,QAAQ,EAAGO,WAJZ;AAKC,IAAA,KAAK,EAAGd;AALT,IADD;AASA;;eAEcH,gB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { SelectControl } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY } from './constants';\n\nfunction PostAuthorSelect() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { postAuthor, authors } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostAuthor: select( editorStore ).getEditedPostAttribute(\n\t\t\t\t'author'\n\t\t\t),\n\t\t\tauthors: select( coreStore ).getUsers( AUTHORS_QUERY ),\n\t\t};\n\t}, [] );\n\n\tconst authorOptions = useMemo( () => {\n\t\treturn ( authors ?? [] ).map( ( author ) => {\n\t\t\treturn {\n\t\t\t\tvalue: author.id,\n\t\t\t\tlabel: decodeEntities( author.name ),\n\t\t\t};\n\t\t} );\n\t}, [ authors ] );\n\n\tconst setAuthorId = ( value ) => {\n\t\tconst author = Number( value );\n\t\teditPost( { author } );\n\t};\n\n\treturn (\n\t\t<SelectControl\n\t\t\tclassName=\"post-author-selector\"\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tonChange={ setAuthorId }\n\t\t\tvalue={ postAuthor }\n\t\t/>\n\t);\n}\n\nexport default PostAuthorSelect;\n"]}